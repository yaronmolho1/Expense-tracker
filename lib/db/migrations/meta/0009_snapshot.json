{
  "id": "70f9f09c-eef8-46a0-ba80-4a82e6959d60",
  "prevId": "4e15a5d0-212b-40ff-96bd-33e49cd07787",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.business_merge_suggestions": {
      "name": "business_merge_suggestions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_id_1": {
          "name": "business_id_1",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "business_id_2": {
          "name": "business_id_2",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "similarity_score": {
          "name": "similarity_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "suggestion_reason": {
          "name": "suggestion_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "suggestion_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_by_user": {
          "name": "resolved_by_user",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "business_merge_suggestions_business_id_1_businesses_id_fk": {
          "name": "business_merge_suggestions_business_id_1_businesses_id_fk",
          "tableFrom": "business_merge_suggestions",
          "tableTo": "businesses",
          "columnsFrom": [
            "business_id_1"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "business_merge_suggestions_business_id_2_businesses_id_fk": {
          "name": "business_merge_suggestions_business_id_2_businesses_id_fk",
          "tableFrom": "business_merge_suggestions",
          "tableTo": "businesses",
          "columnsFrom": [
            "business_id_2"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.businesses": {
      "name": "businesses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "normalized_name": {
          "name": "normalized_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "primary_category_id": {
          "name": "primary_category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "child_category_id": {
          "name": "child_category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "categorization_source": {
          "name": "categorization_source",
          "type": "categorization_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "confidence_score": {
          "name": "confidence_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "approved": {
          "name": "approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "merged_to_id": {
          "name": "merged_to_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "businesses_primary_category_id_categories_id_fk": {
          "name": "businesses_primary_category_id_categories_id_fk",
          "tableFrom": "businesses",
          "tableTo": "categories",
          "columnsFrom": [
            "primary_category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "businesses_child_category_id_categories_id_fk": {
          "name": "businesses_child_category_id_categories_id_fk",
          "tableFrom": "businesses",
          "tableTo": "categories",
          "columnsFrom": [
            "child_category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "businesses_normalized_name_unique": {
          "name": "businesses_normalized_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "normalized_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cards": {
      "name": "cards",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "last_4_digits": {
          "name": "last_4_digits",
          "type": "varchar(4)",
          "primaryKey": false,
          "notNull": true
        },
        "nickname": {
          "name": "nickname",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "bank_or_company": {
          "name": "bank_or_company",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "file_format_handler": {
          "name": "file_format_handler",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "owner": {
          "name": "owner",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.categories": {
      "name": "categories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "parent_id": {
          "name": "parent_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "level": {
          "name": "level",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "display_order": {
          "name": "display_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "budget_amount": {
          "name": "budget_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "budget_period": {
          "name": "budget_period",
          "type": "budget_period",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "categories_parent_id_categories_id_fk": {
          "name": "categories_parent_id_categories_id_fk",
          "tableFrom": "categories",
          "tableTo": "categories",
          "columnsFrom": [
            "parent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.category_budget_history": {
      "name": "category_budget_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "category_id": {
          "name": "category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "budget_amount": {
          "name": "budget_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "budget_period": {
          "name": "budget_period",
          "type": "budget_period",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "effective_from": {
          "name": "effective_from",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "effective_to": {
          "name": "effective_to",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "category_budget_history_category_id_categories_id_fk": {
          "name": "category_budget_history_category_id_categories_id_fk",
          "tableFrom": "category_budget_history",
          "tableTo": "categories",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.exchange_rates": {
      "name": "exchange_rates",
      "schema": "",
      "columns": {
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true
        },
        "rate_to_ils": {
          "name": "rate_to_ils",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.processing_logs": {
      "name": "processing_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "upload_batch_id": {
          "name": "upload_batch_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_file_id": {
          "name": "uploaded_file_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "log_level": {
          "name": "log_level",
          "type": "log_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "context": {
          "name": "context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "processing_logs_upload_batch_id_upload_batches_id_fk": {
          "name": "processing_logs_upload_batch_id_upload_batches_id_fk",
          "tableFrom": "processing_logs",
          "tableTo": "upload_batches",
          "columnsFrom": [
            "upload_batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "processing_logs_uploaded_file_id_uploaded_files_id_fk": {
          "name": "processing_logs_uploaded_file_id_uploaded_files_id_fk",
          "tableFrom": "processing_logs",
          "tableTo": "uploaded_files",
          "columnsFrom": [
            "uploaded_file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscription_suggestions": {
      "name": "subscription_suggestions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_name": {
          "name": "business_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "card_id": {
          "name": "card_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "detected_amount": {
          "name": "detected_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "frequency": {
          "name": "frequency",
          "type": "subscription_frequency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "first_occurrence": {
          "name": "first_occurrence",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "last_occurrence": {
          "name": "last_occurrence",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "occurrence_count": {
          "name": "occurrence_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "detection_reason": {
          "name": "detection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "suggestion_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "rejected_until": {
          "name": "rejected_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "subscription_suggestions_card_id_cards_id_fk": {
          "name": "subscription_suggestions_card_id_cards_id_fk",
          "tableFrom": "subscription_suggestions",
          "tableTo": "cards",
          "columnsFrom": [
            "card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.subscriptions": {
      "name": "subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "business_id": {
          "name": "business_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "card_id": {
          "name": "card_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "frequency": {
          "name": "frequency",
          "type": "subscription_frequency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "subscription_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_from_suggestion": {
          "name": "created_from_suggestion",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "subscriptions_business_id_businesses_id_fk": {
          "name": "subscriptions_business_id_businesses_id_fk",
          "tableFrom": "subscriptions",
          "tableTo": "businesses",
          "columnsFrom": [
            "business_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "subscriptions_card_id_cards_id_fk": {
          "name": "subscriptions_card_id_cards_id_fk",
          "tableFrom": "subscriptions",
          "tableTo": "cards",
          "columnsFrom": [
            "card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transactions": {
      "name": "transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "transaction_hash": {
          "name": "transaction_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_type": {
          "name": "transaction_type",
          "type": "transaction_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "business_id": {
          "name": "business_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "original_business_id": {
          "name": "original_business_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "card_id": {
          "name": "card_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "deal_date": {
          "name": "deal_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "bank_charge_date": {
          "name": "bank_charge_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "original_amount": {
          "name": "original_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "original_currency": {
          "name": "original_currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true
        },
        "exchange_rate_used": {
          "name": "exchange_rate_used",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "charged_amount_ils": {
          "name": "charged_amount_ils",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "payment_type": {
          "name": "payment_type",
          "type": "payment_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "installment_group_id": {
          "name": "installment_group_id",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "installment_index": {
          "name": "installment_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "installment_total": {
          "name": "installment_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "installment_amount": {
          "name": "installment_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "transaction_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "projected_charge_date": {
          "name": "projected_charge_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "actual_charge_date": {
          "name": "actual_charge_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_refund": {
          "name": "is_refund",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "parent_transaction_id": {
          "name": "parent_transaction_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "source_file": {
          "name": "source_file",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "upload_batch_id": {
          "name": "upload_batch_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "transactions_business_id_businesses_id_fk": {
          "name": "transactions_business_id_businesses_id_fk",
          "tableFrom": "transactions",
          "tableTo": "businesses",
          "columnsFrom": [
            "business_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transactions_original_business_id_businesses_id_fk": {
          "name": "transactions_original_business_id_businesses_id_fk",
          "tableFrom": "transactions",
          "tableTo": "businesses",
          "columnsFrom": [
            "original_business_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transactions_card_id_cards_id_fk": {
          "name": "transactions_card_id_cards_id_fk",
          "tableFrom": "transactions",
          "tableTo": "cards",
          "columnsFrom": [
            "card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transactions_subscription_id_subscriptions_id_fk": {
          "name": "transactions_subscription_id_subscriptions_id_fk",
          "tableFrom": "transactions",
          "tableTo": "subscriptions",
          "columnsFrom": [
            "subscription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transactions_parent_transaction_id_transactions_id_fk": {
          "name": "transactions_parent_transaction_id_transactions_id_fk",
          "tableFrom": "transactions",
          "tableTo": "transactions",
          "columnsFrom": [
            "parent_transaction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transactions_upload_batch_id_upload_batches_id_fk": {
          "name": "transactions_upload_batch_id_upload_batches_id_fk",
          "tableFrom": "transactions",
          "tableTo": "upload_batches",
          "columnsFrom": [
            "upload_batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "transactions_transaction_hash_unique": {
          "name": "transactions_transaction_hash_unique",
          "nullsNotDistinct": false,
          "columns": [
            "transaction_hash"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.upload_batches": {
      "name": "upload_batches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "uploaded_at": {
          "name": "uploaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "file_count": {
          "name": "file_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "total_transactions": {
          "name": "total_transactions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "new_transactions": {
          "name": "new_transactions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "updated_transactions": {
          "name": "updated_transactions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_amount_ils": {
          "name": "total_amount_ils",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "upload_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "processing_started_at": {
          "name": "processing_started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "processing_completed_at": {
          "name": "processing_completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.uploaded_files": {
      "name": "uploaded_files",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "upload_batch_id": {
          "name": "upload_batch_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "card_id": {
          "name": "card_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "filename": {
          "name": "filename",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "upload_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "transactions_found": {
          "name": "transactions_found",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "validation_warning": {
          "name": "validation_warning",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "uploaded_files_upload_batch_id_upload_batches_id_fk": {
          "name": "uploaded_files_upload_batch_id_upload_batches_id_fk",
          "tableFrom": "uploaded_files",
          "tableTo": "upload_batches",
          "columnsFrom": [
            "upload_batch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "uploaded_files_card_id_cards_id_fk": {
          "name": "uploaded_files_card_id_cards_id_fk",
          "tableFrom": "uploaded_files",
          "tableTo": "cards",
          "columnsFrom": [
            "card_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.budget_period": {
      "name": "budget_period",
      "schema": "public",
      "values": [
        "monthly",
        "annual"
      ]
    },
    "public.categorization_source": {
      "name": "categorization_source",
      "schema": "public",
      "values": [
        "user",
        "llm",
        "imported",
        "suggested"
      ]
    },
    "public.log_level": {
      "name": "log_level",
      "schema": "public",
      "values": [
        "info",
        "warning",
        "error"
      ]
    },
    "public.payment_type": {
      "name": "payment_type",
      "schema": "public",
      "values": [
        "one_time",
        "installments"
      ]
    },
    "public.subscription_frequency": {
      "name": "subscription_frequency",
      "schema": "public",
      "values": [
        "monthly",
        "annual"
      ]
    },
    "public.subscription_status": {
      "name": "subscription_status",
      "schema": "public",
      "values": [
        "active",
        "cancelled",
        "ended"
      ]
    },
    "public.suggestion_status": {
      "name": "suggestion_status",
      "schema": "public",
      "values": [
        "pending",
        "approved",
        "rejected",
        "ignored"
      ]
    },
    "public.transaction_status": {
      "name": "transaction_status",
      "schema": "public",
      "values": [
        "completed",
        "projected",
        "cancelled"
      ]
    },
    "public.transaction_type": {
      "name": "transaction_type",
      "schema": "public",
      "values": [
        "one_time",
        "installment",
        "subscription"
      ]
    },
    "public.upload_status": {
      "name": "upload_status",
      "schema": "public",
      "values": [
        "pending",
        "processing",
        "completed",
        "failed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}